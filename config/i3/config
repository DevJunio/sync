font pango:ubuntu-mono 8

### Variables

set $MOD Mod4
set $TERM alacritty
set $EDITOR "emacsclient -ca 'emacs'"
set $BROWSER firefox

set $SCREENSHOT "flameshot gui"
set $RUNNER "rofi -modi drun,run -show drun"
set $EMOJI x11-emoji-picker

# Monitors
set $PRIMARY HDMI-A-0
set $SECONDARY DisplayPort-0

# Navigation keys
set $UP k
set $DOWN j
set $LEFT h
set $RIGHT l

#
##
floating_modifier $MOD
bindsym $MOD+w kill
bindsym $MOD+Shift+t reload
bindsym $MOD+Shift+r restart

#
# Border settings
for_window [class="^.*"] border pixel 3
for_window [floating] border pixel 3

#                     	sla  border. text
client.focused       	#F9FAF9 #bd93f9 #292F34
client.focused_inactive #000000  #002a36 #484e50
hide_edge_borders vertical

gaps inner 10
gaps outer -12

focus_follows_mouse yes
focus_on_window_activation focus
workspace_auto_back_and_forth yes

# border_radius 2

### Launchers
bindsym $MOD+e exec $EDITOR
bindsym $MOD+t exec $TERM
Bindsym $MOD+f exec $BROWSER
bindsym $MOD+Return exec $TERM
Bindsym $MOD+Shift+s exec $SCREENSHOT
bindsym $MOD+. exec $EMOJI
bindsym $MOD+d exec $RUNNER

# change focus
bindsym $MOD+$UP focus up
bindsym $MOD+$DOWN focus down
bindsym $MOD+$LEFT focus left
bindsym $MOD+$RIGHT focus right

# move focused window
bindsym $MOD+Shift+$UP move down
bindsym $MOD+Shift+$DOWN move up
bindsym $MOD+Shift+$LEFT move left
bindsym $MOD+Shift+$RIGHT move right

bindsym $MOD+Shift+f fullscreen toggle
bindsym $MOD+i layout toggle split
bindsym $MOD+y layout stacking
bindsym $MOD+u layout tabbed

bindsym $MOD+s floating toggle
bindsym $MOD+q focus mode_toggle
bindsym $MOD+a focus parent
	   
bindsym $MOD+Tab scratchpad show
bindsym $MOD+Shift+Tab move scratchpad
	   
bindsym $MOD+shift+e focus output $primary
bindsym $MOD+shift+w focus output $secondary

set $WS1 "1"
set $WS2 "2"
set $WS3 "3"
set $WS4 "4"
set $WS5 "5"
set $WS6 "6"
set $WS7 "7"
set $WS8 "8"

# Configure monitor output
workspace $WS1 output $PRIMARY
workspace $WS2 output $PRIMARY
workspace $WS3 output $PRIMARY
workspace $WS4 output $PRIMARY
workspace $WS5 output $SECONDARY
workspace $WS6 output $SECONDARY
workspace $WS7 output $SECONDARY
workspace $WS8 output $SECONDARY

# switch to workspace
bindsym $MOD+1 workspace number $WS1
bindsym $MOD+2 workspace number $WS2 
bindsym $MOD+3 workspace number $WS3
bindsym $MOD+4 workspace number $WS4
bindsym $MOD+z workspace number $WS5
bindsym $MOD+x workspace number $WS6
bindsym $MOD+c workspace number $WS7
bindsym $MOD+v workspace number $WS8

# move focused container to workspace
bindsym $MOD+Shift+1 move container to workspace $WS1
bindsym $MOD+Shift+2 move container to workspace $WS2
bindsym $MOD+Shift+3 move container to workspace $WS3
bindsym $MOD+Shift+4 move container to workspace $WS4
bindsym $MOD+Shift+z move container to workspace $WS5
bindsym $MOD+Shift+x move container to workspace $WS6
bindsym $MOD+Shift+c move container to workspace $WS7
bindsym $MOD+Shift+v move container to workspace $WS8

bindsym $MOD+r mode "resize"
mode "resize" {
        bindsym $LEFT       resize shrink width 20 px or 20 ppt
        bindsym $DOWN       resize grow height 20 px or 20 ppt
        bindsym $UP         resize shrink height 20 px or 20 ppt
        bindsym $RIGHT      resize grow width 20 px or 20 ppt
        # back to normal: Enter or Escape or $Mod+r
        bindsym Return mode "default"
        bindsym q mode "default"
        bindsym Escape mode "default"
        bindsym $MOD+r mode "default"
}


#
##
for_window [class="Bitwarden"] floating enable
for_window [class="(?i)1password"] floating enable
for_window [class="(?i)^.*(calc)+.*$"] floating enable
for_window [class="gedit"] floating enable
for_window [class="gnome-*"] floating enable
for_window [window_role="About"] floating enable
for_window [window_role="pop-up"] floating enable

assign [class="(?i)alacritty|clion|xterm|emacs"] $WS1
assign [class="(?i)firefox"] $WS2
assign [class="(?i)firefox" title="(?i)^.*(twitch)+.*$"] $WS5
assign [class="(?i)discord"] $WS6
assign [class="spotify"] $WS7

set $refresh_i3status killall -SIGUSR1 i3status

#
# Sound boilerplate things
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status
bar {
    status_command i3status
}

# Startup
exec --no-startup-id dex --autostart --environment i3
exec --no-startup-id $HOME/.local/bin/keyboard.sh
#	   -lat: (lat|lon) temp:(day|night) : (day|night):brightness
exec redshift -l "-23:-46" -t "6500:3000" -b "1.0:0.8" 
exec_always --no-startup-id xrandr --output $primary --primary --above $secondary
exec_always --no-startup-id picom --experimental-backends --config ~/.config/picom.conf
exec_always --no-startup-id feh --randomize $HOME/Pictures/wallpaper/* --bg-fill
